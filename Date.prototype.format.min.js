Date.prototype.format=function(e,t){t=typeof t=="undefined"?"en":t;var n={en:["January","February","March","April","May","June","July","August","September","October","November","December"]},r={en:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},i="",s="",o=0;for(var u=0;u<=e.length;u++){if(e.charAt(u)==s){o++}else{if(s!=""){switch(s){case"y":if(o==4){i+=this.getFullYear()}else if(o==2){i+=this.getFullYear().toString().substring(2,4)}else{i+=Array(o+1).join(s)}break;case"m":if(o==2){var a=this.getMonth()+1;i+=(a<10?"0":"")+a}else if(o==1){i+=this.getMonth()}else{i+=Array(o+1).join("m")}break;case"M":if(o==2){i+=n[t][this.getMonth()]}else if(o==1){i+=n[t][this.getMonth()].substring(0,3)}else{i+=Array(iCharCont+1).join("M")}break;case"d":if(o==2){var f=this.getDate();i+=(f<10?"0":"")+f}else if(o==1){i+=this.getDate()}else{i+=Array(o+1).join("d")}break;case"D":if(o==2){i+=r[t][this.getDay()]}else if(o==1){var f=this.getDay();if(t=="en"){if([0,2,4,6].indexOf(f)>-1){i+=r[t][f].substring(0,2)}else{i+=r[t][f].substring(0,1)}}}else{i+=Array(o+1).join("D")}break;case"H":if(o==2){var l=this.getHours();i+=(l<10?"0":"")+l}else if(o==1){i+=this.getHours()}else{i+=Array(o+1).join("H")}break;case"h":if(o==2){var l=(this.getHours()+11)%12+1;i+=(l<10?"0":"")+l}else if(o==1){i+=(this.getHours()+11)%12+1}else{i+=Array(o+1).join("h")}break;case"n":if(o==2){var c=this.getMinutes();i+=(c<10?"0":"")+c}else if(o==1){i+=this.getMinutes()}else{i+=Array(o+1).join("n")}break;case"s":if(o==2){var h=this.getSeconds();i+=(h<10?"0":"")+h}else if(o==1){i+=this.getSeconds()}else{i+=Array(o+1).join("s")}break;case"j":if(o==1){i+=this.getHours()>0&&this.getHours()<13?"am":"pm"}else{i+=Array(o+1).join("j")}break;case"J":if(o==1){i+=this.getHours()>0&&this.getHours()<13?"AM":"PM"}else{i+=Array(o+1).join("J")}break;default:i+=Array(o+1).join(s)}}s=e.charAt(u);o=1}}return i}