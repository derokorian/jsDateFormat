/**
 * @name jsDateFormat
 * @version 2.0.1
 * @license The MIT License (MIT)
 */
Date.prototype.jsDateFormat={that:this,localizations:{"default":"en",supported:["en","es"],Months:{en:["January","February","March","April","May","June","July","August","September","October","November","December"],es:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},MonthAbbr:{en:["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"],es:["enero","feb","marzo","abr","mayo","jun","jul","agosto","set","oct","nov","dic"]},Days:{en:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],es:["lunes","martes","mi�rcoles","jueves","viernes","s�bado","domingo"]},DayAbbr:{en:["Su","M","Tu","W","Th","F","Sa"],es:["l","ma","mi","j","v","s","d"]}},setLocalization:function(e){if(that.localizations.supported.indexOf(e)>-1){that.localization=e}else if(that.localizations.supported.indexOf(that.localization)==-1){that.localization=that.localizations.default}},getTZ:function(e){var t=true;if(e<=0){e=Math.abs(e);t=false}var n=e/60;e=e%60;return(t?"-":"+")+(n<10?"0":"")+n+(e<10?"0":"")+e},getFunc:function(e,t){var n=t=="read"?"get":t=="write"?"set":"";switch(e){case"y":n+="FullYear";break;case"m":case"M":n+="Month";break;case"d":n+="Date";break;case"D":if(t=="read"){n+="Day"}else{n=""}break;case"H":case"h":case"j":case"J":n+="Hours";break;case"n":n+="Minutes";break;case"s":n+="Seconds";break;default:n=""}return n}};
Date.prototype.format=function(e){return this.toFormat(e)};
Date.prototype.toFormat=function(e){var t=this.jsDateFormat,n=t.localization||t.localizations["default"];var r="",i="",s=0,o,u,a;for(o=0;o<=e.length;o++){if(e.charAt(o)==i){s++}else{if(i!=""){a=t.getFunc(i,"read");if(typeof this[a]=="function"){u=this[a]()}if(i=="h"){u=(u+11)%12+1}if(s==2&&i=="y"||s==1&&"dHnsh".indexOf(i)>-1){r+=u}else if(s==2&&"mdHnsh".indexOf(i)>-1){u+=i=="m"?1:0;r+=(u<10?"0":"")+u}else{switch(i){case"y":if(s==1){r+=u.toString().substring(2,4);break};case"m":if(s==1){u++;r+=u;break};case"M":if(s==2){r+=this.jsDateFormat.localizations.Months[n][u];break}else if(s==1){r+=this.jsDateFormat.localizations.MonthAbbr[n][u];break};case"D":if(s==2){r+=this.jsDateFormat.localizations.Days[n][u];break}else if(s==1){r+=this.jsDateFormat.localizations.DayAbbr[n][u];break};case"j":if(s==1){r+=u<12?"am":"pm";break};case"J":if(s==1){r+=u<12?"AM":"PM";break};case"z":if(s==1){r+=t.getTZ(this.getTimezoneOffset());break};default:r+=(new Array(s+1)).join(i)}}}i=e.charAt(o);s=1}}return r};
Date.fromFormat=function(e,t){var n=new Date,r=n.jsDateFormat,i=r.localization||r.localizations["default"],s="",o=0,u,a,f;for(u=0;u<=t.length;u++){if(t.charAt(u)==s){o++}else{f=r.getFunc(s,"write");if(s!=""&&typeof n[f]=="function"){if(o==1&&s=="y"||o==2&&"mdhHns".indexOf(s)>-1){a=parseInt(e.substr(0,2),10)-(s=="m"?1:0);e=e.substr(2);if(s=="y"){if(a<30)a="20"+a;else a="19"+a}n[f](a)}else if(o==1&&"mdhHns".indexOf(s)>-1){a=null;if("mh".indexOf(s)>-1){a=e.match(/^1[0-2]|[1-9]/)}else if(s=="d"){a=e.match(/^3[0-1]|[1-2][0-9]|[0-9]/)}else if(s=="H"){a=e.match(/^2[0-3]|1[0-9]|[0-9]/)}else{a=e.match(/^[1-5][0-9]|[0-9]/)}if(typeof a[0]!="undefined"){a=a[0]}e=e.substr(a.length);if(s=="m"){a--}n[f](a)}else{switch(s){case"y":if(o==2){a=parseInt(e.substr(0,4),10);e=e.substr(4);n[f](a);break};case"M":if(o==2||o==1){var l,c;a="";for(var u=0;u<12;u++){if(o==2){c=r.localizations.Months[i][u]}else{c=r.localizations.MonthAbbr[i][u]}l=new RegExp("^"+c);if(e.match(l)){a=u;e=e.substr(c.length);break}}if(a!=""){n[f](a);break}};case"J":case"j":if(o==1){a=e.substr(0,2).toLowerCase();e=e.substr(2);if(a=="pm"&&n.getHours()<12){n.setHours(n.getHours()+12);break}else if(a=="am"&&n.getHours()>=12){n.setHours(n.getHours()-12);break}};default:e=e.substr(o)}}}else{e=e.substr(o)}s=t.charAt(u);o=1}}return n}
